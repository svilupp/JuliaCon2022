<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Methodology · MediaMixModellingDemo.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://svilupp.github.io/MediaMixModellingDemo.jl/methodology/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MediaMixModellingDemo.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Methodology</a><ul class="internal"><li><a class="tocitem" href="#Building-blocks"><span>Building blocks</span></a></li></ul></li><li><a class="tocitem" href="../practical_tips/">Practical Tips</a></li><li><a class="tocitem" href="../resources/">Resources</a></li><li><a class="tocitem" href="../api_reference/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Methodology</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Methodology</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/svilupp/JuliaCon2022/MediaMixModellingDemo.jl/blob/main/MediaMixModellingDemo/docs/src/methodology.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Methodology"><a class="docs-heading-anchor" href="#Methodology">Methodology</a><a id="Methodology-1"></a><a class="docs-heading-anchor-permalink" href="#Methodology" title="Permalink"></a></h1><p>## Goals</p><ul><li>Quantify the benefits of your marketing activities (ROAS, mROAS, etc.)</li><li>Re-allocate marketing spend across different marketing channels/activities to maximize revenues</li></ul><p>## Challenges</p><ul><li>Insufficient data (eg, unobserved data, untracked data, too little data given the changing dynamics in the market)</li><li>Underspecified problem / weak identifiability (eg, Hill Curves for Ad spend saturation are &quot;too flexible&quot;)</li></ul><h2 id="Building-blocks"><a class="docs-heading-anchor" href="#Building-blocks">Building blocks</a><a id="Building-blocks-1"></a><a class="docs-heading-anchor-permalink" href="#Building-blocks" title="Permalink"></a></h2><p>### Modelling decisions to make it work</p><ul><li>Use Bayesian inference, which allows us to capture the uncertainty / underspecification of the key parameters</li><li>Specify our model with Turing / DynamicPPL, which allows us to apply almost any logic that we can express in Julia / we know from domain expertise</li><li>Leverage structural decomposition of the time series (eg, trend + seasonality + Ad spend + ...)</li><li>Fit the model in two stages to stabilize it / to reduce the weak identifiability</li><li>Reparametrize our model and scale all predictors, which enables us to easily leverage our domain knowledge (and existing experiments) and set informative priors</li><li>Operate on fitted results in MCMCChains, which allows to leverage many algorithms to fit our model, eg, HMC, NUTS, VI, MAP, ZigZag, etc</li><li>Apply Bayesian Decision Theory (custom loss function over the samples) to reflect your business’ context, preferences and decision making</li><li>Find the optimal budget with Metaheuristics to overcome that some objectives will be non-convex (ie, there will be local optima)</li></ul><p>### Discussion of Some of the Implications </p><ul><li>To make my models re-usable I enforce some naming and grouping conventions (eg, all marketing spend variables must be supplied in the same Dataframe, similarly all context variables must be supplied in another Dataframe) and standardization (context variables are standardized by Zscore, but revenues and marketing spend are Max() scaled to allow for easy conversions and setting of priors)</li><li>Max() scaling of revenues and marketing spend could be a poor choice if there are many outliers in the data (but that would also complicate matters for the auto priors for the Zscore transformed variables as they are loosely linked to standard deviation of the revenues</li><li>Reparametrization of the model allows directly setting the expected ROAS at an average ad spend level, but it implicitly assumes that the inflection of the Hill Curve (Halfmax concentration point or “halfmaxpoint” RV in the model) is at your average level as well (ie, if the channel is relatively underutilized / very low, it might be too conservative assumption and it could reduce your fitted ROAS)</li><li>The models might be harder to fit (follow the standard Bayesian workflow and diagnostics - see FAQ for references)</li><li>Two stage fit implicitly assumes independence between marketing spend and other variables (eg, holidays would not interact with marketing effects)</li><li>Second stage fit can be done on a smaller window if all inputs are masked (subset) consistently, but make sure to reflect this masking in plotting the fit results and in the optimization</li><li>Optimization can be run on a smaller window than the fit (“optim_mask”) but that reduces its potential uplift, because there will be a ramp-up / adjustment period to adjust to new spend levels (because of the Geometric Decay) - make sure the optimization window is not too short to see the full effect of more “decayed” variables</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../practical_tips/">Practical Tips »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.21 on <span class="colophon-date" title="Sunday 17 July 2022 21:07">Sunday 17 July 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
